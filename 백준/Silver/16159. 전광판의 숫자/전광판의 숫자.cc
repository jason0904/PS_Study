#include <iostream>
#include <cstdio>
#include <string>
#include <algorithm>
 
using namespace std;
 
string number[10][10] = {
    {
        "000000",
        "001100",
        "010010",
        "010010",
        "010010",
        "001100",
        "000000",
    },
    {
        "000000",
        "000100",
        "001100",
        "000100",
        "000100",
        "000100",
        "000000",
    },
    {
        "000000",
        "011110",
        "000010",
        "011110",
        "010000",
        "011110",
        "000000",
    },
    {
        "000000",
        "011100",
        "000010",
        "000100",
        "000010",
        "011100",
        "000000",
    },
    {
        "000000",
        "000100",
        "001100",
        "010100",
        "111110",
        "000100",
        "000000",
    },
    {
        "000000",
        "011110",
        "010000",
        "011100",
        "000010",
        "010010",
        "001100",
    },
    {
        "000000",
        "010000",
        "010000",
        "011110",
        "010010",
        "011110",
        "000000",
    },
    {
        "000000",
        "011110",
        "000010",
        "000100",
        "000100",
        "000100",
        "000000",
    },
    {
        "000000",
        "011110",
        "010010",
        "011110",
        "010010",
        "011110",
        "000000",
    },
    {
        "011110",
        "010010",
        "010010",
        "011110",
        "000010",
        "000010",
        "000010",
    }
};

int main(void) {
    string a[10];
    for(int i=0; i<7; i++) {
        cin >> a[i];
    }
    string num[10][10] = {"",};
    int len = a[0].size();
    int cnt = a[0].size()/6;
    
    for(int i=0; i<7; i++) {
        for(int j=0; j<len; j++) {
            num[j/6][i] += a[i][j];
        }
    }
    string per = "";
    for(int i=0; i < cnt; i++) {
        if(num[i][4] == "010010") {
            if(num[i][1] == "001100") {
                per += "0";
            }
            else if(num[i][1] == "010000") {
                per += "6";
            }
            else {
                per += "8";
            }
        }
       else if (num[i][4] == "000100") {
            if(num[i][1] == "000100") {
                per += "1";
            }

            else 
                per += "7";
        }
        else if (num[i][4] == "010000")
            per += "2";
        else if (num[i][4] == "000010") {
            if(num[i][1] == "011100")
                per += "3";
            else if(num[i][1] == "011110")
                per += "5";
            else if (num[i][1] == "010010")
                per += "9";
        }
        else if (num[i][4] == "111110")
            per += "4";
    }
    string next = per;
    next_permutation(next.begin(), next.end());
    if(stoll(per) >= stoll(next)) {
    	cout << "The End"<< endl;
    	return 0;
	}
	for(int i = 0; i<7; i++) {
		for(int j = 0; j<len; j++) {
			cout << number[next[j/6]- '0'][i][j%6];
		}
		cout << endl;
	}
    return 0;
}